<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PrepperZero â€“ Heavy Library</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preload" href="css/design-system.css" as="style">
  <link rel="stylesheet" href="css/design-system.css">

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, sans-serif;
      background: #05060a;
      color: #f5f5f5;
    }

    .pz-container {
      display: flex;
      height: 100vh;
      overflow: hidden;
      flex-direction: row;
    }

    .pz-sidebar {
      width: 280px;
      background: #0b0d14;
      border-right: 1px solid #222633;
      overflow-y: auto;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
    }

    .pz-sidebar-nav {
      list-style: none;
      margin: 0;
      padding: 16px 8px;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .nav-link {
      display: block;
      padding: 8px 16px;
      color: #9cc4ff;
      text-decoration: none;
      border-radius: 6px;
      transition: background 180ms ease-out;
    }

    .nav-link:hover {
      background: rgba(255, 138, 0, 0.08);
    }

    .pz-main {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    header {
      padding: 16px;
      background: #0b0d14;
      border-bottom: 1px solid #222633;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      flex-shrink: 0;
    }

    a.back {
      color: #9cc4ff;
      text-decoration: none;
      font-size: 14px;
    }

    a.back:hover {
      text-decoration: underline;
    }

    h1 {
      font-size: 18px;
      margin: 0;
    }

    p {
      margin: 4px 0 0;
      font-size: 13px;
      color: #b0b4c0;
    }

    .bar {
      padding: 8px 16px;
      font-size: 13px;
      background: #0f111a;
      border-bottom: 1px solid #222633;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      flex-shrink: 0;
    }

    .bar a {
      color: #9cc4ff;
      text-decoration: none;
      margin-right: 8px;
    }

    .bar a:hover {
      text-decoration: underline;
    }

    #libframe {
      border: none;
      width: 100%;
      flex: 1;
      background: #000;
    }

    @media (max-width: 768px) {
      .pz-container {
        flex-direction: column;
      }

      .pz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: 280px;
        z-index: 2000;
        transform: translateX(-100%);
        transition: transform 180ms ease-out;
      }

      .pz-sidebar.open {
        transform: translateX(0);
      }

      .pz-sidebar button {
        display: flex;
        flex-direction: column;
        gap: 4px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 8px 12px;
        color: #f5f5f5;
      }

      .pz-sidebar button span {
        width: 24px;
        height: 2px;
        background: #f5f5f5;
        border-radius: 1px;
      }

      header {
        padding: 12px;
      }

      .bar {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      #libframe {
        height: calc(100vh - 140px);
      }
    }

    @media (max-width: 480px) {
      .pz-sidebar {
        width: 100%;
      }

      header {
        flex-direction: column;
        align-items: flex-start;
        padding: 8px 12px;
      }

      h1 {
        font-size: 16px;
      }

      .bar {
        padding: 8px 12px;
        font-size: 12px;
      }

      .bar a {
        margin-right: 4px;
      }

      #libframe {
        height: calc(100vh - 160px);
      }
    }
  </style>
</head>

<body>
  <div class="pz-container">
    <aside class="pz-sidebar">
      <button class="sidebar-toggle" aria-label="Toggle sidebar"><span></span><span></span><span></span></button>
      <nav>
        <ul class="pz-sidebar-nav">
          <li><a href="index.html" class="nav-link">Home</a></li>
          <li><a href="maps.html" class="nav-link">Maps</a></li>
          <li><a href="library.html" class="nav-link">Library</a></li>
          <li><a href="tools.html" class="nav-link">Tools</a></li>
          <li><a href="settings.html" class="nav-link">Settings</a></li>
        </ul>
      </nav>
    </aside>

    <div class="pz-main">
      <header>
        <a href="index.html" class="back">&#8592; Back to dashboard</a>
    <div>
      <h1>PrepperZero - Heavy Library</h1>
      <p>Deep reference: Wikipedia, Wikibooks, Wikisource, s2underground, lrnselfreliance, and more.</p>
    </div>
  </header>

  <div class="bar">
    <div>
      <strong>Sections:</strong>
      <a href="library-core.html">Core</a>
      <a href="library-stackexchange.html">StackExchange</a>
      <a href="library-ted.html">TED</a>
      <a href="library-libretexts.html">LibreTexts</a>
      <a href="library-misc.html">Misc</a>
      <a href="library-heavy.html">Heavy</a>
    </div>

    <div>
      <a href="library-search.html">Global search across all libraries &#128269;</a>
    </div>
  </div>

      <iframe id="libframe" title="Heavy Library"></iframe>
    </div>
  </div>

  <script src="js/sidebar-toggle.js"></script>
  <script>
    const host = window.location.hostname || "127.0.0.1";
    document.getElementById("libframe").src = `http://${host}:8093/`;
    
    // Register service worker for offline support
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(err => console.log('SW registration failed:', err));
    }
  </script>
</body>
</html>

